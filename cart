<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª - Ù…Ø§Ù‡Ø± ÙÙˆÙ†</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
<style>.product-img { height: 120px; object-fit: contain; }</style>
</head>
<body class="bg-light">

<nav class="navbar navbar-dark bg-dark p-3">
<div class="container d-flex justify-content-between">
<a class="navbar-brand" href="index.html">ğŸ“± Ù…Ø§Ù‡Ø± ÙÙˆÙ†</a>
<span class="text-white">Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</span>
</div>
</nav>

<div class="container mt-4">
<h2 class="mb-3">Ø³Ù„Ø© Ø§Ù„Ø´Ø±Ø§Ø¡</h2>
<div id="cartItems" class="row g-3"></div>
<hr>
<h4 class="mt-3">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id="totalPrice">0</span> Ø¬Ù†ÙŠÙ‡</h4>
<button class="btn btn-danger mt-3" onclick="clearCart()">Ø­Ø°Ù Ø§Ù„Ø³Ù„Ø©</button>
</div>

<script>
function loadCart() {
    let cart=JSON.parse(localStorage.getItem('cart'))||[];
    let container=document.getElementById('cartItems'); let total=0;
    container.innerHTML='';
    cart.forEach((item,index)=>{
        total+=item.price;
        container.innerHTML+=`
        <div class="col-md-4">
        <div class="card p-3 shadow-sm text-center">
        <img src="${item.img}" class="product-img mb-2">
        <h5>${item.name}</h5>
        <p class="text-danger fw-bold">${item.price.toLocaleString()} Ø¬Ù†ÙŠÙ‡</p>
        <button class="btn btn-dark" onclick="removeItem(${index})">Ø­Ø°Ù</button>
        </div></div>`;
    });
    document.getElementById('totalPrice').innerText=total.toLocaleString();
}

function removeItem(index){
    let cart=JSON.parse(localStorage.getItem('cart'))||[];
    cart.splice(index,1); localStorage.setItem('cart',JSON.stringify(cart)); loadCart();
}

function clearCart(){ localStorage.removeItem('cart'); loadCart(); }

window.addEventListener('storage',loadCart);
loadCart();
</script>

</body>
</html>
